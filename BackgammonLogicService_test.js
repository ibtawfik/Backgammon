describe("Backgammon", function() {
  var _gameLogic;

  beforeEach(module('myApp'));

  beforeEach(inject(function (backGammonLogicService) {
    _gameLogic = backGammonLogicService;
  }));

  function expectMoveOk(turnIndex, board, fromDelta, toDelta, dice) {
    expect(_gameLogic.isMoveOk({turnIndex:turnIndex,
      board: board,
      fromDelta: fromDelta,
      toDelta: toDelta,
      dice:dice})).toBe(true);
  }

  function expectIllegalMove(turnIndex, board, fromDelta, toDelta, dice) {
      expect(_gameLogic.isMoveOk({turnIndex:turnIndex,
          board: board,
          fromDelta: fromDelta,
          toDelta: toDelta,
          dice:dice})).toBe(false);
  }

  function expectError(turnIndexBeforeMove, board, fromDelta, toDelta, dice)  {
      expect(function(){_gameLogic.createMove(board,fromDelta,toDelta,dice,turnIndexBeforeMove)}).toThrow();
  }


    /*****************************************************************************************************************
     * Test isMove OK
     *****************************************************************************************************************/
  it("making a move white on an empty board is legal" , function(){
       expectMoveOk(0,'',[2],[5],[1,2])

  });
    //This should fail, the black piece just flew across the board
    it("making a move from a space you don't occupy NOT legal" , function(){
        expectIllegalMove(1,'',[2],[5],[1,2])

    });

    it("rolling doubles should allow 4 total moves to a legal spot", function(){
       expectMoveOk(0,'',[2],[6],[1,1])
    });

    it("trying to move to a blocked spot should NOT be legal", function(){
       expectIllegalMove(0,'',[2],[7],[4,1])
    });

    it("white trying to move off the board is NOT legal", function(){
        expectIllegalMove(0,'', [20], [26], [5,1])
    });

    it("black trying to move off the board is NOT legal", function(){
        expectIllegalMove(1,'', [7], [1], [5,1])
    });

    it("an unkown player trying to move is Illgal", function(){
        expectIllegalMove(2,'', [7], [1], [5,1])
    });

    it("trying to move two pieces for a single roll is legal", function(){
        expectMoveOk(0,'', [2,2], [3,5], [1,3])
    });


    it("intermediate spot is blocked when moving one piece, move Not Allowed White", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
        [14],[17],[1,2])
    });

    it("intermediate spot is blocked when moving one piece, move Not Allowed Black", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [21],[17],[1,3])
    });

    it("intermediate spot is blocked when rolling doubles, move Not Allowed White", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [14],[22],[2,2])
    });

    it("intermediate spot is blocked when rolling doubles, move Not Allowed Black", function(){
        expectIllegalMove(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [15],[7],[2,2])
    });

    it("intermediate spot is blocked when rolling singles, move Not Allowed Black", function(){
        expectIllegalMove(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [21],[18],[1,2])
    });




    it("Expect assign a null turn index to NOT be legal", function(){
        expectIllegalMove(null,'', [2,2], [3,5], [1,3])
    });

    it("expect blots taken to move before other moves are allowed", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2],[5],[1,2])
    });


    it("expect that exiting the board is legal if all blots on home board white", function(){
        expectMoveOk(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [24,23],[27,24],[1,3])
    });

    it("expect that exiting the board is legal if all blots on home board black", function(){
        expectMoveOk(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2],[0],[1])
    });

    it("if at end game scenario use only up to 4 rolls if no more rolls availible then cannout use unutlized sum", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [23,23,23,23,23],[27,27,27,27,27],[6,6])
    });

    it("if at end game scenario use only up to 4 rolls if no more rolls availible then cannout use unutlized sum", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2,2,2,2,2],[0,0,0,0,0],[6,6])
    });

    it("expect that exiting the board isNOT  legal if all blots are not on home board", function(){
        expectIllegalMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [24,23],[27,24],[1,3])
    });



    /*****************************************************************************************************************
     * Test createMove OK
     *****************************************************************************************************************/

//    it("making a move white on an empty board is legal" , function(){
//        expectMoveOk(0,'',[2],[5],[1,2])
//
//    });
    //This should fail, the black piece just flew across the board
    it("making a move from a space you don't occupy NOT legal" , function(){
        expectError(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],[2],[5],[1,2])

    });

//    it("rolling doubles should allow 4 total moves to a legal spot", function(){
//        expectMoveOk(0,'',[2],[6],[1,1])
//    });

    it("trying to move to a blocked spot should NOT be legal", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],[2],[7],[4,1])
    });

    it("white trying to move off the board is NOT legal", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']], [20], [26], [5,1])
    });

    it("black trying to move off the board is NOT legal", function(){
        expectError(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']], [7], [1], [5,1])
    });

    it("an unkown player trying to move is Illgal", function(){
        expectError(2,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
            ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
            ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//13 13
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
            ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//11 15
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
            ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
            ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
            ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
            ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']], [7], [1], [5,1])
    });

//    it("trying to move two pieces for a single roll is legal", function(){
//        expectMoveOk(0,'', [2,2], [3,5], [1,3])
//    });


    it("intermediate spot is blocked when moving one piece, move Not Allowed White", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [14],[17],[1,2])
    });

    it("intermediate spot is blocked when moving one piece, move Not Allowed Black", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [21],[17],[1,3])
    });

    it("intermediate spot is blocked when rolling doubles, move Not Allowed White", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [14],[22],[2,2])
    });

    it("intermediate spot is blocked when rolling doubles, move Not Allowed Black", function(){
        expectError(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [15],[7],[2,2])
    });

    it("intermediate spot is blocked when rolling singles, move Not Allowed Black", function(){
        expectError(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['W', 'W', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [21],[18],[1,2])
    });




    it("Expect assign a null turn index to NOT be legal", function(){
        expectError(null,'', [2,2], [3,5], [1,3])
    });

    it("expect blots taken to move before other moves are allowed", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['W', 'W', 'W', 'W' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['W', 'W', 'W', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2],[5],[1,2])
    });


    it("change state if all blots on home board white", function(){
        expect(_gameLogic.createMove(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [24,23],[27,24],[1,3])).toEqual([{setTurn: {turnIndex: 1}},
            {set: {key: 'board', value: [['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']]}},
            {set: {key: 'fromDelta', value: {fromDelta: [24,23]}}},
            {set: {key: 'toDelta', value: {toDelta: [27,24]}}},
            {set: {key: 'dice', value: {dice: [1,3]}}}])


//        expectMoveOk(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
//                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
//                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
//                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
//                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
//                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
//                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
//                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
//                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
//            [24,23],[27,24],[1,3])
    });

    it("expect game state change to exit the board", function(){


        expect(_gameLogic.createMove(1,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2],[0],[1])).toEqual([{setTurn: {turnIndex: 0}},
            {set: {key: 'board', value: [['B', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''], //opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''], //blots taken
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']]}},
            {set: {key: 'fromDelta', value: {fromDelta: [2]}}},
            {set: {key: 'toDelta', value: {toDelta: [0]}}},
            {set: {key: 'dice', value: {dice: [1]}}}])
    });

    it("if at end game scenario use only up to 4 rolls if no more rolls availible then cannout use unutlized sum", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [23,23,23,23,23],[27,27,27,27,27],[6,6])
    });

    it("if at end game scenario use only up to 4 rolls if no more rolls availible then cannout use unutlized sum", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['B', 'B', 'B', 'B' , 'B', 'B', '', '', '' ,'' ,'', '','','',''],//23  3
                ['B', 'B', 'B', 'B' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', 'W', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [2,2,2,2,2],[0,0,0,0,0],[6,6])
    });

    it("expect that exiting the board isNOT  legal if all blots are not on home board", function(){
        expectError(0,[['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//opponent exists the board
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//start game board 24   2
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//23  3
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//22  4
                ['W', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//21  5
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//20  6
                ['B', 'B', 'B', 'B' , 'B', '', '', '', '' ,'' ,'', '','','',''],//19 7
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//18  8
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//17  9
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//16 10
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//15 11
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//14 12
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//13 13
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//12 14
                ['B', 'B', 'B', '' , '', '', '', '', '' ,'' ,'', '','','',''],//11 15
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//10 16
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//9 17
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//8 18
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//7 19
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//6 20
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//5 21
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//4 22
                ['W', 'W', 'W', 'W' , 'W', '', '', '', '' ,'' ,'', '','','',''],//3 23
                ['W', 'W', 'W', 'W' , 'W', 'W', 'W', 'W', 'W' ,'' ,'', '','','',''],//2 24
                ['B', 'B', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//end game board //1 25
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','',''],//blots taken 26
                ['', '', '', '' , '', '', '', '', '' ,'' ,'', '','','','']],//opponent exits the board 27)
            [24,23],[27,24],[1,3])
    });

});
